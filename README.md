Personal Health Monitoring System (Multi-Agent)

A real-time, multi-agent system that simulates wearable health data collection, automated AI analysis, human-in-the-loop approvals, and a live dashboard for monitoring.

ğŸš€ Overview

This project consists of three concurrently running components:

Data Simulator â€“ mimics a wearable device producing health metrics.

Agent Worker â€“ runs AI agents that analyze the data and coordinate responses.

Dashboard UI â€“ displays live metrics, agent logs, and approval requests.

Agents communicate asynchronously via a SQLite message queue, and the system supports long-term trend analysis, human approval workflows, and real-time observability.

âœ¨ Key Features
1. Real-Time Multi-Process System

Three processes run simultaneously:

simulator.py â€“ generates real-time health data

worker.py â€“ processes data using AI agents

ui.py â€“ visualizes activity in a Streamlit dashboard

2. Asynchronous Agent-to-Agent Communication (A2A)

Agents exchange messages through SQLite tables.

Example:

TrendAnalyzerAgent creates an approval request.

EscalationAgent reads and responds once approved.

3. MCP-Style Coordinated Plan

worker.py executes agents in a fixed sequence (round-robin):

TrendAnalyzerAgent

EscalationAgent

4. Human-in-the-Loop Approvals

TrendAnalyzer flags critical anomalies (e.g., heart rate > 160).

Generates a pending approval request visible in the dashboard.

User must click Approve before escalation occurs.

5. Long-Term Memory Recall

Agents can access full historical metric logs via SQLite queries.

Enables pattern detection and long-term trend analysis.

6. Observability Dashboard

The Streamlit UI provides:

Live real-time metrics graph

Agent action logs

Pending human approval queue

ğŸ“ File Structure
personal-health-monitor/
â”œâ”€â”€ .env
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ database.py       # SQLite setup and DB functions
â”œâ”€â”€ agents.py         # Agent logic: TrendAnalyzer, EscalationAgent
â”œâ”€â”€ simulator.py      # Process 1: wearable data feed
â”œâ”€â”€ worker.py         # Process 2: agent coordinator (round-robin)
â””â”€â”€ ui.py             # Process 3: Streamlit dashboard

âš™ï¸ Setup Instructions
1. Create the Project Folder
mkdir personal-health-monitor
cd personal-health-monitor

2. Add the Required Files

Create:

.env

requirements.txt

database.py

agents.py

simulator.py

worker.py

ui.py

Paste the provided code into each.

3. Create a Python Virtual Environment (Recommended)
python -m venv venv
source venv/bin/activate
# Windows:
# venv\Scripts\activate

4. Install Dependencies
pip install -r requirements.txt

â–¶ï¸ Running the System (Real-Time Execution)

You must open three terminals and run each component separately.

ğŸ–¥ï¸ Terminal 1 â€” Data Simulator

Simulates a wearable sending new data every 3 seconds.

python simulator.py


Output example:

SIM: Added metric...

ğŸ§  Terminal 2 â€” Agent Worker

Runs TrendAnalyzerAgent â†’ EscalationAgent in a loop.

python worker.py


Output example:

WORKER: Running TrendAnalyzerAgent...

ğŸ“Š Terminal 3 â€” Streamlit Dashboard

Launches the monitoring interface.

streamlit run ui.py


The dashboard auto-refreshes every 5 seconds.

ğŸ§ª What You Can Observe

Live Metrics updating in real time

Agent Log showing each agentâ€™s actions

Pending Approvals generated by anomaly detection

Clicking Approve triggers the EscalationAgent to simulate contacting a doctor
